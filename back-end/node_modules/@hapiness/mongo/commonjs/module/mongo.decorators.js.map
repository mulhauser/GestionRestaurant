{"version":3,"file":"mongo.decorators.js","sourceRoot":"","sources":["../../../src/module/mongo.decorators.ts"],"names":[],"mappings":";;AAAA,yCAIwB;AAUX,QAAA,UAAU,GAA8B,sBAAe,CAAa,YAAY,EAAE;IAC3F,OAAO,EAAE,SAAS;IAClB,UAAU,EAAE,SAAS;IACrB,OAAO,EAAE,SAAS;CACrB,CAAC,CAAC;AAEH;IAGI,YAAY,KAAU;QAClB,MAAM,QAAQ,GAAe,sBAAe,CAAC,KAAK,CAAC,CAAC;QACpD,IAAI,CAAC,iBAAiB,GAAG;YACrB,OAAO,EAAE,QAAQ,CAAC,OAAO;YACzB,OAAO,EAAE,QAAQ,CAAC,OAAO;SAC5B,CAAA;IACL,CAAC;CACJ;AAVD,sBAUC","sourcesContent":["import {\n    CoreDecorator,\n    createDecorator,\n    extractMetadata\n} from '@hapiness/core';\n\nimport { ConnectionOptions } from './services';\n\nexport interface MongoModel {\n    adapter: string;\n    collection: string;\n    options?: any;\n}\n\nexport const MongoModel: CoreDecorator<MongoModel> = createDecorator<MongoModel>('MongoModel', {\n    adapter: undefined,\n    collection: undefined,\n    options: undefined\n});\n\nexport abstract class Model {\n    protected connectionOptions: ConnectionOptions;\n    abstract readonly schema: any;\n    constructor(token: any) {\n        const metadata: MongoModel = extractMetadata(token);\n        this.connectionOptions = {\n            adapter: metadata.adapter,\n            options: metadata.options\n        }\n    }\n}\n"]}