{"version":3,"file":"service.js","sourceRoot":"","sources":["../../../../src/extensions/socket-server/service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,qCAAgD;AAChD,qCAA2C;AAC3C,2CAA8C;AAC9C,+BAAkC;AAGlC,IAAa,mBAAmB,GAAhC;IAEI,YACqC,YAA6B;QAA7B,iBAAY,GAAZ,YAAY,CAAiB;IAC/D,CAAC;IAEJ;;;;OAIG;IACH,QAAQ;QACJ,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED;;;;OAIG;IACH,IAAI;QACA,MAAM,CAAC,iBAAU;aACZ,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC;aACrB,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC,KAAK,EAAE,CAAC;aAClC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,QAAQ,EAAE,CAAC;aACjC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;IACxB,CAAC;CAEJ,CAAA;AA5BY,mBAAmB;IAD/B,iBAAU,EAAE;IAIJ,WAAA,aAAM,CAAC,2BAAe,CAAC,CAAA;qCAAuB,wBAAe;GAHzD,mBAAmB,CA4B/B;AA5BY,kDAAmB","sourcesContent":["import { Injectable, Inject } from '../../core';\nimport { WebSocketServer } from './server';\nimport { SocketServerExt } from './extension';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class SocketServerService {\n\n    constructor(\n        @Inject(SocketServerExt) private socketServer: WebSocketServer\n    ) {}\n\n    /**\n     * Get WebSocket Server instance\n     *\n     * @returns Server\n     */\n    instance(): WebSocketServer {\n        return this.socketServer;\n    }\n\n    /**\n     * Stop the WebSocket Server\n     *\n     * @returns Observable\n     */\n    stop(): Observable<void> {\n        return Observable\n            .of(this.socketServer)\n            .do(_ => _.getHttpServer().close())\n            .do(_ => _.getServer().shutDown())\n            .map(_ => null);\n    }\n\n}\n"]}